<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Gii Desuta AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root{
      --bg:#0d1117;
      --panel:#161b22;
      --accent:#00c2ff;
      --accent2:#ff0044;
      --text:#ffffff;
      --muted:#8b949e;
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif}
    body{background:var(--bg);color:var(--text);display:flex;flex-direction:column;height:100vh}

    /* Header gradient animasi */
    header{
      background:linear-gradient(270deg,var(--accent),var(--accent2),#7b42ff);
      background-size:600% 600%;
      animation:gradientMove 8s ease infinite;
      padding:1rem;text-align:center;font-weight:700;font-size:1.3rem;
      text-shadow:0 0 12px rgba(0,194,255,.8);
           display:flex;              /* Biar logo dan teks sejajar */
        align-items:center;        /* Tengah vertikal */
        justify-content:center;    /* Tengah horizontal */
        gap:10px;                  /* Jarak logo dan teks */
      }

      header img{
        width:30px;   /* ukuran logo */
        height:30px;
      }
    @keyframes gradientMove{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }

    /* Tabs */
    .tabs{display:flex;justify-content:center;background:var(--panel);gap:.5rem;padding:.5rem}
    .tabs button{
      background:transparent;border:1px solid var(--muted);color:var(--text);
      padding:.4rem .8rem;border-radius:2rem;font-size:.8rem;cursor:pointer;
      transition:.3s;
    }
    .tabs button.active{
      background:var(--accent);color:#000;border-color:var(--accent);
      box-shadow:0 0 10px var(--accent),0 0 20px var(--accent);
    }
    .tabs button:hover{border-color:var(--accent);color:var(--accent)}

    /* Chat */
    .chat{flex:1;display:flex;flex-direction:column;max-width:800px;width:100%;margin:auto;padding:1rem}
    .messages{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:.8rem;padding-bottom:1rem}

    /* Bubble */
    .msg{max-width:80%;padding:.7rem 1rem;border-radius:1.2rem;line-height:1.4;font-size:.95rem;
      animation:fadeInUp .3s ease;
    }
    @keyframes fadeInUp{
      from{opacity:0;transform:translateY(10px)}
      to{opacity:1;transform:translateY(0)}
    }
    .msg.user{
      align-self:flex-end;
      background:linear-gradient(135deg,var(--accent),#7b42ff);
      color:#fff;
      box-shadow:0 0 8px rgba(0,194,255,.6),0 0 15px rgba(123,66,255,.4);
    }
    .msg.bot{
      align-self:flex-start;
      background:var(--panel);
      border:1px solid rgba(0,194,255,.2);
      box-shadow:0 0 6px rgba(0,194,255,.2);
    }

    /* Typing */
    .typing{display:flex;gap:.3rem;align-items:center;font-size:.9rem;color:var(--muted)}
    .typing span{width:8px;height:8px;border-radius:50%;background:var(--accent);
      animation:dot 1.4s infinite;box-shadow:0 0 8px var(--accent);
    }
    .typing span:nth-child(2){animation-delay:.2s}
    .typing span:nth-child(3){animation-delay:.4s}
    @keyframes dot{0%,80%,100%{opacity:.3}40%{opacity:1}}

    /* Input area */
    .input-area{display:flex;gap:.5rem;margin-top:.5rem;position:sticky;bottom:0}
    .input-area input{
      flex:1;padding:.7rem;border:none;border-radius:2rem;
      background:var(--panel);color:var(--text);
    }
    .input-area button{
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      border:none;border-radius:50%;width:2.5rem;height:2.5rem;
      color:#fff;font-size:1.1rem;cursor:pointer;
      box-shadow:0 0 12px rgba(0,194,255,.6);
      transition:.3s;
    }
    .input-area button:hover{transform:scale(1.1)}

    /* Footer */
    footer{text-align:center;font-size:.7rem;color:var(--muted);padding:.5rem}

    @media(max-width:600px){
      .msg{max-width:90%}
    }
  </style>
</head>
<body>

<header>
  <img src="/IMAGE/logo.png" alt="Logo">
  GII DESUTA AI
</header>

<div class="tabs">
  <button data-ai="asisten">Ai Asisten</button>
  <button data-ai="wota" class="active">AI Jkt48</button>
  <button data-ai="anime">AI Anime</button>
</div>

<div class="chat">
  <div class="messages" id="messages"></div>

  <div class="input-area">
    <input id="input" placeholder="Tulis pesan..." />
    <button onclick="send()"><i class="fa fa-paper-plane"></i></button>
  </div>
</div>

<footer>
  Â© <span id="year"></span> GII DESUTA
</footer>

<script>
const prompts = {
  wota: "Kamu adalah AI Jkt48 yang dibuat oleh GII DESUTA, kamu di buat menjadi AI yang Ceria, Sopan, Fokus membantu, Dan Selalu Menggunakan Bahasa Indonesia. Kamu adalah seorang FANS JKT48, Oshi Mu TRISHA dan developer si GII DESUTA oshinya Freya.",
  asisten: "Kamu adalah AI Asisten GII DESUTA yang siap melayani pengguna lainnya, dengan bahasa yang ramah, sopan, ceria dan selalu memakai bahasa Indonesia. GII DESUTA   adalah pemilik mu dan pembuat Kamu",
  anime: "Kamu adalah AI Anime Reseller Gaming hanya fokus tentang dunia anime dan tahu semua tentang anime. Kamu harus menggunakan Bahasa Indonesia yang lebih gaul dan Wibu. Kamu di buat oleh GII DESUTA."
};

let current = "wota";
const messages = document.getElementById("messages");
const input = document.getElementById("input");
document.getElementById("year").textContent = new Date().getFullYear();

document.querySelectorAll(".tabs button").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    document.querySelectorAll(".tabs button").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    current = btn.dataset.ai;
    messages.innerHTML="";
  });
});

function addMsg(text, sender){
  const div=document.createElement("div");
  div.className="msg "+sender;
  div.textContent=text;
  messages.appendChild(div);
  messages.scrollTop=messages.scrollHeight;
}

function addTyping(){
  const div=document.createElement("div");
  div.className="msg bot typing";
  div.innerHTML='<span></span><span></span><span></span>';
  div.id="typing";
  messages.appendChild(div);
  messages.scrollTop=messages.scrollHeight;
}

function removeTyping(){
  const t=document.getElementById("typing");
  if(t) t.remove();
}

async function send(){
  const text=input.value.trim();
  if(!text) return;
  addMsg(text,"user");
  input.value="";
  addTyping();

  const prompt=encodeURIComponent(prompts[current]);
  const content=encodeURIComponent(text);
  const url=`https://api.siputzx.my.id/api/ai/gpt3?prompt=${prompt}&content=${content}`;

  try{
    const res=await fetch(url);
    const json=await res.json();
    removeTyping();
    addMsg(json.data,"bot");
  }catch(e){
    removeTyping();
    addMsg("Terjadi kesalahan saat menghubungi server.","bot");
  }
}

input.addEventListener("keydown",e=>{
  if(e.key==="Enter") send();
});
</script>

</body>
  </html>
